<template>
  <div class="drop">
    <section id="intro" class="drop__section">
      <SharedTitle size="m" class="drop__text-wrapper"
        >üëã <span class="drop__text">–û –ø—Ä–æ–µ–∫—Ç–µ –∏ –º–æ–µ–π —Ä–æ–ª–∏</span></SharedTitle
      >
      <SharedText size="m"
        >–ü—Ä–∏–≤–µ—Ç! –Ø –±—ã–ª <b>TechLead / TeamLead</b> —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥-–∫–æ–º–∞–Ω–¥—ã –Ω–∞ –ø—Ä–æ–µ–∫—Ç–µ
        <i>TastyDrop</i> ‚Äî –∑–∞–Ω–∏–º–∞–ª—Å—è –≥–ª–æ–±–∞–ª—å–Ω—ã–º —Ä–µ–¥–∏–∑–∞–π–Ω–æ–º, —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏–º
        –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ–º –∏ –≤—ã—Å—Ç—Ä–∞–∏–≤–∞–Ω–∏–µ–º –ø—Ä–æ—Ü–µ—Å—Å–æ–≤.</SharedText
      >

      <SharedText size="m"
        >–ü—Ä–æ–µ–∫—Ç –ø—Ä–æ—à—ë–ª –ø–æ–ª–Ω—ã–π –∞–ø–≥—Ä–µ–π–¥: –æ—Ç –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã –∏ –≤–∏–∑—É–∞–ª–∞ –¥–æ –∫–æ–º–∞–Ω–¥—ã –∏
        –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏.</SharedText
      >
      <SharedList
        ref="listBenfits"
        class="drop__benefits"
        :items="items"
        :has-visible="!!interestedList[0]"
      >
        <template #default="{ item }">
          <SharedText size="m">{{ item }}</SharedText>
        </template>
      </SharedList>

      <WidgetImageAnimation :src="MainPage" alt="–°–∫—Ä–∏–Ω—à–æ—Ç –≥–ª–∞–≤–Ω–æ–π" />
    </section>

    <section id="redesign" class="drop__section">
      <SharedTitle size="m" class="drop__text-wrapper"
        >üîß
        <span class="drop__text"
          >–†–µ–¥–∏–∑–∞–π–Ω –∏ –ø–µ—Ä–µ–æ—Å–º—ã—Å–ª–µ–Ω–∏–µ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–∞</span
        ></SharedTitle
      >
      <SharedText size="m"
        >–í–º–µ—Å—Ç–æ —Å—Ç–∞—Ä–æ–≥–æ –º–æ–Ω–æ–ª–∏—Ç–∞ –Ω–∞ Vue 2 –º—ã –≤—ã—Å—Ç—Ä–æ–∏–ª–∏ –Ω–æ–≤—ã–π —Å—Ç–µ–∫:
        <i>Nuxt 3 + TypeScript + Storybook</i>. –≠—Ç–æ –¥–∞–ª–æ –Ω–∞–º –≥–∏–±–∫–æ—Å—Ç—å,
        —Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å –∏ —Å–∫–æ—Ä–æ—Å—Ç—å.</SharedText
      >

      <SharedList
        ref="listProcess"
        class="drop__redesign"
        :items="redesignItems"
        :has-visible="!!interestedList[1]"
      >
        <template #default="{ item }">
          <SharedText size="m">{{ item }}</SharedText>
        </template>
      </SharedList>

      <SharedText size="m" class="note-gradient"
        >–≠—Ç–æ –±—ã–ª –Ω–µ –ø—Ä–æ—Å—Ç–æ —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ ‚Äî –º—ã –∑–∞–Ω–æ–≤–æ –≤—ã—Å—Ç—Ä–æ–∏–ª–∏ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—É,
        –æ—Ä–∏–µ–Ω—Ç–∏—Ä—É—è—Å—å –Ω–∞ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ.</SharedText
      >

      <WidgetImageAnimation :src="MissionPage" alt="–°–∫—Ä–∏–Ω—à–æ—Ç –≥–ª–∞–≤–Ω–æ–π" />
    </section>

    <section id="process" class="drop__section">
      <SharedTitle size="m" class="drop__text-wrapper"
        >üéØ <span class="drop__text">–§–∏—à–∫–∏ –∏ —Ñ–∏—à–µ—á–∫–∏</span></SharedTitle
      >
      <SharedText size="m"
        >–Ø –æ—Ç–≤–µ—á–∞–ª –∑–∞ –≤—Å–µ –∞–Ω–∏–º–∞—Ü–∏–∏, –∑–≤—É–∫–∏ –∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ ¬´–≤–∞—É¬ª-–º–æ–º–µ–Ω—Ç—ã.
        –ù–∞–ø—Ä–∏–º–µ—Ä, <b>—Ä—É–ª–µ—Ç–∫–∞</b> —Å –∫–µ–π—Å–∞–º–∏ ‚Äî –ø–æ–ª–Ω–æ—Å—Ç—å—é –º–æ–π —Ñ—Ä–æ–Ω—Ç.</SharedText
      >

      <SharedText size="m"
        >–ó–∞–Ω–∏–º–∞–ª—Å—è —Å–ª–æ–∂–Ω—ã–º–∏ –∞–Ω–∏–º–∞—Ü–∏—è–º–∏ –±–µ–∑ —Å—Ç–æ—Ä–æ–Ω–Ω–∏—Ö –±–∏–±–ª–∏–æ—Ç–µ–∫, —Ä–∞–±–æ—Ç–∞ —Å–æ –∑–≤—É–∫–æ–º
        –≤ –º–æ–º–µ–Ω—Ç —Ä–µ–Ω–¥–µ—Ä–∞ –Ω–µ—Å–∫–æ–ª—å–∫–æ 10-100 —ç–ª–µ–º–µ–Ω—Ç–æ–≤, –∞ —Ç–∞–∫–∂–µ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è
        –º—É–ª—å—Ç–∏—Ä—É–ª–µ—Ç–æ–∫(5), –≤–∞–∂–Ω–æ –±—ã–ª–æ —Å–æ—Ö—Ä–∞–Ω—è—Ç—å –∫–∞—á–µ—Å—Ç–≤–µ–Ω–Ω–æ–µ –∏—Å–ø–æ–ª–Ω–µ–Ω–∏–µ –∑–≤—É–∫–∞ –∏
        –æ—á–µ—Ä—ë–¥–Ω–æ—Å—Ç—å –∞–Ω–∏–º–∞—Ü–∏–∏.</SharedText
      >

      <SharedText size="m" class="note-gradient"
        >P.S –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –º—É–ª—å—Ç–∏—Ä—É–ª–µ—Ç–æ–∫ –æ—Å—É—â–µ—Å—Ç–≤–ª—è–ª–∞—Å—å –≤ —Ä–∞–º–∫–∞—Ö –æ–¥–Ω–æ–≥–æ –ø–æ—Ç–æ–∫–∞,
        –±–µ–∑ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è Worker</SharedText
      >

      <WidgetImageAnimation :src="BattlesPage" alt="–°–∫—Ä–∏–Ω—à–æ—Ç –∫–µ–π—Å –±–∞—Ç–ª–æ–≤" />
    </section>

    <section id="commands" class="drop__section">
      <SharedTitle size="m" class="drop__text-wrapper"
        >üë• <span class="drop__text">–ö–æ–º–∞–Ω–¥–∞ –∏ –ø—Ä–æ—Ü–µ—Å—Å—ã</span></SharedTitle
      >
      <SharedText size="m"
        >–ü–æ–¥ –º–æ–∏–º —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ–º –±—ã–ª–æ 11 frontend-—Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤. –£–ª—É—á—à–µ–Ω–∏–µ
        –ø—Ä–æ—Ü–µ—Å—Å–æ–≤, –≤ —Å–∏–ª—É –≤—ã—Å–æ–∫–æ–π –ø–æ–≥—Ä—É–∂–µ–Ω–Ω–æ—Å—Ç–∏ –ø—Ä–æ–µ–∫—Ç –ø—Ä–∏–Ω–∏–º–∞–ª –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–µ
        —Ä–µ—à–µ–Ω–∏—è, —Ä–∞–∑–±–∏–ª –∫–æ–¥–æ–≤—É—é –±–∞–∑—É –Ω–∞ –∑–æ–Ω—ã –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏, –ø–æ–¥–¥–µ—Ä–∂–∫—É
        –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏.</SharedText
      >

      <SharedList
        ref="listRedesign"
        class="drop__redesign"
        :items="processesItems"
        :has-visible="!!interestedList[2]"
      >
        <template #default="{ item }">
          <SharedText size="m">{{ item }}</SharedText>
        </template>
      </SharedList>
    </section>
  </div>
</template>
<script setup>
import SharedTitle from '~/components/SharedTitle/SharedTitle.vue'
import MainPage from '~/assets/images/projects/tastydrop/main-page.png'
import MissionPage from '~/assets/images/projects/tastydrop/mission-page.png'
import BattlesPage from '~/assets/images/projects/tastydrop/battles-page.png'
import { items, processesItems, redesignItems } from './tastydropme.data'

const listBenfits = ref()
const listProcess = ref()
const listRedesign = ref()
const interestedList = ref([])

let observer

const initObserver = (lists) => {
  observer = new IntersectionObserver(
    ([entry]) => {
      if (entry.isIntersecting) {
        interestedList.value.push(entry)
        if (interestedList.value.length > lists.length) {
          observer.disconnect()
        }
      }
    },
    { threshold: 0.2 }
  )
}

onMounted(() => {
  const $benefits = listBenfits.value?.listRoot
  const $process = listProcess.value?.listRoot
  const $redesign = listRedesign.value?.listRoot
  const lists = [$benefits, $process, $redesign]
  initObserver(lists)
  lists.forEach((el) => observer.observe(el))
})

onUnmounted(() => {
  observer?.disconnect()
})

useHead({
  meta: [
    {
      property: 'og:image',
      content: '/og-image-tasty.png'
    }
  ]
})
definePageMeta({
  layout: 'project',
  anchors: [
    { link: 'intro', text: '–û –ø—Ä–æ–µ–∫—Ç–µ –∏ –º–æ–µ–π —Ä–æ–ª–∏' },
    { link: 'redesign', text: '–†–µ–¥–∏–∑–∞–π–Ω —Å–∏—Å—Ç–µ–º—ã' },
    { link: 'process', text: '–§–∏—à–∫–∏ –∏ —Ñ–∏—à–µ—á–∫–∏' },
    {
      link: 'commands',
      text: '–ö–æ–º–∞–Ω–¥–∞ –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ'
    }
  ],
  info: [
    { text: '18.06.2023' },
    { text: 'Team Lead / Tech Lead / Developer' },
    {
      link: 'https://tastydrop.com',
      text: 'tasty-drop.xx'
    }
  ],
  title: 'üõ† –ü—Ä–æ–µ–∫—Ç: TastyDrop | TastyGo'
})
</script>

<style scoped lang="scss" src="./tastydropme.scss"></style>
